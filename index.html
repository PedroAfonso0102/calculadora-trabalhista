<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Trabalhista</title>
    <link href="./assets/css/output.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Filled:opsz,wght,FILL,GRAD@24,400,1,0" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/print.css" media="print">
    <style>
        :root {
            --background: oklch(1 0 0);
            --foreground: oklch(0.145 0 0);
            --card: oklch(1 0 0);
            --card-foreground: oklch(0.145 0 0);
            --popover: oklch(1 0 0);
            --popover-foreground: oklch(0.145 0 0);
            --primary: oklch(0.205 0 0);
            --primary-foreground: oklch(0.985 0 0);
            --secondary: oklch(0.97 0 0);
            --secondary-foreground: oklch(0.205 0 0);
            --success: oklch(0.68 0.22 145);
            --success-foreground: oklch(0.985 0 0);
            --muted: oklch(0.97 0 0);
            --muted-foreground: oklch(0.556 0 0);
            --accent: oklch(0.97 0 0);
            --accent-foreground: oklch(0.205 0 0);
            --destructive: oklch(0.577 0.245 27.325);
            --destructive-foreground: oklch(0.985 0 0);
            --border: oklch(0.922 0 0);
            --input: oklch(0.922 0 0);
            --ring: oklch(0.708 0 0);
            --radius: 0.5rem;
            --shadow-interactive-hover: 0 4px 12px 0 hsl(var(--foreground) / 0.08), 0 2px 4px 0 hsl(var(--foreground) / 0.05);

            /* Variáveis de Estado */
            --warning: oklch(0.75 0.15 85);
            --warning-foreground: oklch(0.145 0 0);
            --info: oklch(0.6 0.2 230);
            --info-foreground: oklch(0.985 0 0);
            --error: oklch(0.577 0.245 27.325);
            --error-foreground: oklch(0.985 0 0);
            
            /* Sistema de Border Radius Padronizado */
            --radius-xs: 0.125rem;
            --radius-sm: 0.25rem;
            --radius-md: 0.375rem;
            --radius-lg: 0.5rem;
            --radius-xl: 0.75rem;
            --radius-2xl: 1rem;
            
            /* Sistema de Espaçamento Consistente */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;

            /* Escala de Grays Completa */
            --gray-50: oklch(0.99 0 0);
            --gray-100: oklch(0.97 0 0);
            --gray-200: oklch(0.94 0 0);
            --gray-300: oklch(0.88 0 0);
            --gray-500: oklch(0.556 0 0);
            --gray-600: oklch(0.45 0 0);
            --gray-700: oklch(0.35 0 0);
            --gray-800: oklch(0.25 0 0);
            --gray-900: oklch(0.145 0 0);

            /* Cores de Warning/Alert */
            --warning-light: oklch(0.95 0.1 85);
            --warning-border: oklch(0.75 0.2 85);
            --warning-text: oklch(0.35 0.15 85);

            /* Cores de Tooltip */
            --tooltip-bg: oklch(0.25 0 0);
            --tooltip-text: oklch(0.98 0 0);
            --tooltip-border: oklch(0.15 0 0);

            /* Cores de Status para Charts */
            --chart-success: oklch(0.68 0.22 145);
            --chart-success-light: oklch(0.95 0.1 145);
            --chart-success-border: oklch(0.6 0.2 145);
            --chart-error: oklch(0.577 0.245 27.325);
            --chart-error-light: oklch(0.95 0.1 27.325);
            --chart-error-border: oklch(0.5 0.2 27.325);

            /* Info/Blue variants */
            --info-light: #eff6ff;
            --info-dark: #1d4ed8;
            --info-border: #bfdbfe;
            
            /* Chart success variants */
            --chart-success-dark: #166534;
            --chart-success-border: #bbf7d0;
            
            /* Chart error variants */
            --chart-error-dark: #dc2626;
            --chart-error-border: #fecaca;

            /* Cores Print-friendly - Simple Design Principles */
            --print-text: #000000;           /* Black for main text */
            --print-secondary: #333333;      /* Dark gray for secondary text */
            --print-success: #008000;        /* Green for success/positive values */
            --print-error: #ff0000;          /* Red for errors/negative values */

            /* Variáveis do Componente Details - Usando sistema centralizado */
            --details-border-color: var(--gray-200);
            --details-bg-color: var(--background);
            --details-bg-hover-color: var(--gray-50);
            --details-text-color: var(--gray-900);
            --details-icon-color: var(--gray-500);
            --details-content-bg-color: var(--gray-50);
            --details-content-text-color: var(--gray-700);
            --details-accent-color: var(--info);
            --details-focus-ring-color: var(--info);
            --details-font-size: 1rem;
            --details-content-font-size: 0.875rem;
            --details-border-radius: var(--radius-md);
            --details-transition-duration: 0.3s;
        }

        .dark {
            --background: oklch(0.145 0 0);
            --foreground: oklch(0.985 0 0);
            --card: oklch(0.205 0 0);
            --card-foreground: oklch(0.985 0 0);
            --popover: oklch(0.205 0 0);
            --popover-foreground: oklch(0.985 0 0);
            --primary: oklch(0.922 0 0);
            --primary-foreground: oklch(0.205 0 0);
            --secondary: oklch(0.269 0 0);
            --secondary-foreground: oklch(0.985 0 0);
            --muted: oklch(0.269 0 0);
            --muted-foreground: oklch(0.708 0 0);
            --accent: oklch(0.269 0 0);
            --accent-foreground: oklch(0.985 0 0);
            --destructive: oklch(0.704 0.191 22.216);
            --border: oklch(1 0 0 / 10%);
            --input: oklch(1 0 0 / 15%);
            --ring: oklch(0.556 0 0);
        }

        @layer base {
            * {
                @apply border-border;
            }
            body {
                @apply bg-background text-foreground;
                font-family: 'Inter', sans-serif;
            }
        }
        .sans-serif {
            font-family: 'Inter', sans-serif;
        }
        .hidden {
            display: none !important;
        }
        /* Custom styles for animations */
        details[open] > summary > svg {
            transform: rotate(90deg);
        }
        button[role=checkbox] > svg {
            transition: transform 150ms ease-in-out;
            transform: scale(0);
        }
        button[data-state=checked] > svg {
            transform: scale(1);
        }

        /* Material Icons filled style */
        .material-icons {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        /* Tooltip styles */
        .tooltip {
            position: absolute;
            background-color: var(--tooltip-bg);
            color: var(--tooltip-text);
            border: 1px solid var(--tooltip-border);
            border-radius: var(--radius-lg);
            padding: 12px 16px;
            font-size: 0.875rem; /* text-sm */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            backdrop-filter: blur(4px);
            z-index: 50;
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 150ms ease-in-out, transform 150ms ease-in-out;
            pointer-events: auto; /* Allow interactions with tooltip */
            max-width: 320px;
        }
        .tooltip.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        /* Enhanced tooltip styles */
        .enhanced-tooltip {
            max-width: 400px;
        }
        
        .enhanced-tooltip details {
            margin: 0.25rem 0;
        }
        
        .enhanced-tooltip summary {
            font-weight: 500;
            padding: 0.25rem 0;
        }

        /* Typography and Readability Styles */
        @media (max-width: 768px) {
            body {
                font-size: 16px;
                line-height: 1.6;
            }
            
            /* Mobile tooltip adjustments */
            .tooltip {
                max-width: 280px;
                padding: 10px 14px;
                font-size: 0.8rem;
            }

            h2 {
                font-size: 1.5rem; /* Adjust heading size for mobile */
            }

            label, .text-sm {
                font-size: 1rem; /* Ensure labels are readable */
            }

            .space-y-2 > * + * {
                --tw-space-y-reverse: 0;
                margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));
                margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));
            }

            /* Fix for accordion summary text on mobile */
            details summary {
                font-size: 1.1rem;
                line-height: 1.4;
                padding: 0.75rem 0;
            }

            /* Ensure proper spacing for accordion content */
            details > div {
                padding-top: 1.5rem !important;
            }
        }

        /* Ergonomics and Touch Interaction Styles */
        @media (max-width: 768px) {
            /* Enlarge tap targets */
            input[type="text"],
            input[type="number"],
            input[type="date"],
            select {
                min-height: 44px;
                padding-top: 0.5rem;
                padding-bottom: 0.5rem;
            }

            button {
                min-height: 44px;
                padding: 0.75rem 1.5rem;
                background-color: var(--gray-50);
                color: var(--gray-700);
                border-radius: var(--radius-md);
                transition: all 0.2s ease-in-out;
            }

            button:hover {
                background-color: var(--gray-100);
                color: var(--gray-800);
                transform: translateY(-1px);
            }

            button:active {
                background-color: var(--gray-200);
                transform: translateY(0);
            }

            /* Primary button styling - overrides general button styles */
            button.bg-primary,
            button[class*="bg-primary"] {
                background-color: hsl(var(--primary)) !important;
                color: hsl(var(--primary-foreground)) !important;
            }

            button.bg-primary:hover,
            button[class*="bg-primary"]:hover {
                background-color: hsl(var(--primary) / 0.9) !important;
                transform: translateY(-1px);
            }

            button.bg-primary:active,
            button[class*="bg-primary"]:active {
                background-color: hsl(var(--primary) / 0.8) !important;
                transform: translateY(0);
            }

            input[type="checkbox"] {
                width: 1.5rem;
                height: 1.5rem;
            }

            /* Improve radio button touch targets */
            input[type="radio"] {
                width: 1.25rem;
                height: 1.25rem;
            }

            /* Make radio button labels more touchable */
            label[for*="insalubridade-grau"] {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0.75rem 0.5rem !important;
                margin: 0.25rem 0;
            }
        }

        /* Mobile-specific fixes for radio button groups */
        @media (max-width: 768px) {
            /* Stack radio buttons vertically on mobile for better UX */
            [role="radiogroup"] {
                flex-direction: column !important;
                gap: 0.5rem !important;
                padding: 0.75rem !important;
                background-color: transparent !important;
            }

            [role="radiogroup"] label {
                width: 100% !important;
                flex: none !important;
                text-align: left !important;
                background-color: hsl(var(--muted)) !important;
                border: 1px solid hsl(var(--border)) !important;
                border-radius: var(--radius-md) !important;
                transition: all 0.2s ease !important;
            }

            [role="radiogroup"] label[data-state="active"] {
                background-color: hsl(var(--primary)) !important;
                color: hsl(var(--primary-foreground)) !important;
                border-color: hsl(var(--primary)) !important;
            }

            [role="radiogroup"] label:hover {
                background-color: hsl(var(--accent)) !important;
                border-color: hsl(var(--accent-foreground)) !important;
            }

            /* Simple mobile adjustments for base calculation radio buttons */
            fieldset .flex.items-center.space-x-4 {
                gap: 1rem !important;
                flex-wrap: wrap !important;
            }

            fieldset .flex.items-center.space-x-4 > * {
                margin-right: 0 !important;
            }
        }

        /* Mobile grid layout fixes */
        @media (max-width: 768px) {
            /* Force single column layout on mobile */
            .grid.grid-cols-1.md\\:grid-cols-2 {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }

            /* Ensure full width for mobile form elements */
            .space-y-2 {
                margin-bottom: 1.5rem;
            }

            /* Fix checkbox alignment on mobile */
            .flex.items-center.space-x-2 {
                align-items: flex-start !important;
                gap: 0.75rem !important;
            }

            .flex.items-center.space-x-2 input[type="checkbox"] {
                margin-top: 0.25rem;
                flex-shrink: 0;
            }

            .flex.items-center.space-x-2 label {
                line-height: 1.5;
            }
        }

        /* Zebra striping for result rows */
        .result-row:nth-child(even) {
            background-color: var(--gray-50);
        }

        /* Emphasize final result */
        .total-liquido-label {
            font-size: 1.25rem; /* text-xl */
            font-weight: 700;
        }
        .total-liquido-valor {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 800;
        }

        /* SVG Chart Styles */
        .chart-svg {
            max-width: 100%;
            height: auto;
        }
        
        .chart-segment {
            transition: all 0.3s ease;
            transform-origin: center;
        }
        
        .chart-segment:hover {
            filter: brightness(1.1);
            transform: scale(1.05);
        }
        
        .chart-legend-item {
            transition: background-color 0.2s ease;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
        }
        
        .chart-legend-item:hover {
            background-color: var(--gray-100);
        }
        
        .chart-tooltip {
            position: absolute;
            background-color: var(--tooltip-bg);
            color: var(--tooltip-text);
            border: 1px solid var(--tooltip-border);
            border-radius: var(--radius-lg);
            padding: 8px 12px;
            font-size: 0.875rem;
            line-height: 1.25rem;
            max-width: 200px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            backdrop-filter: blur(4px);
            z-index: 50;
            opacity: 0;
            transform: translateY(-2px);
            transition: opacity 150ms ease-in-out, transform 150ms ease-in-out;
            pointer-events: none;
        }
        
        .chart-tooltip:not(.hidden) {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Responsive chart sizing */
        @media (max-width: 768px) {
            .chart-svg {
                width: 180px;
                height: 180px;
            }
            
            .chart-tooltip {
                font-size: 0.75rem;
                max-width: 150px;
                padding: 6px 8px;
            }
        }
        
        /* Print styles for SVG chart */
        @media print {
            .chart-svg {
                width: 150px !important;
                height: 150px !important;
            }
            
            .chart-tooltip {
                display: none !important;
            }
            
            .chart-legend-item {
                font-size: 0.75rem !important;
                margin-bottom: 0.125rem !important;
            }
        }

        /* Modal improvements */
        #calculation-memory-modal {
            backdrop-filter: blur(2px);
        }

        /* Garantir fundo branco sólido na modal */
        #calculation-memory-modal-content {
            background-color: var(--white) !important;
            color: var(--gray-800) !important;
        }

        #calculation-memory-modal-content h2,
        #calculation-memory-modal-content h4 {
            color: var(--gray-800) !important;
        }

        #calculation-memory-modal-content .text-xs,
        #calculation-memory-modal-content .text-sm {
            color: var(--gray-700) !important;
        }

        /* Ensure PDF button text is always white */
        #calculation-memory-modal-print-btn {
            color: var(--white) !important;
        }

        #calculation-memory-modal-print-btn:hover {
            color: var(--white) !important;
        }

        /* Educational Panel Styles */
        #educational-panel {
            box-shadow: -4px 0 15px rgba(0, 0, 0, 0.1);
        }
        
        #educational-panel.visible {
            transform: translateX(0);
        }
        
        #educational-panel-overlay.visible {
            backdrop-filter: blur(4px);
        }
        
        .educational-topic-btn.active {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            border-color: hsl(var(--primary));
        }
        
        .educational-content-item {
            border-bottom: 1px solid var(--gray-200);
            padding: 1rem 0;
        }
        
        .educational-content-item:last-child {
            border-bottom: none;
        }
        
        .educational-content-item h4 {
            color: hsl(var(--primary));
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .educational-content-item .legal-reference {
            background-color: var(--gray-100);
            padding: 0.5rem;
            border-radius: var(--radius-md);
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: var(--gray-500);
            font-style: italic;
        }
        
        .educational-content-item .example {
            background-color: var(--warning-light);
            border-left: 4px solid var(--warning-border);
            padding: 0.75rem;
            margin-top: 0.75rem;
            border-radius: 0 0.375rem 0.375rem 0;
        }
        
        .educational-content-item .example:before {
            content: "💡 Exemplo prático: ";
            font-weight: 600;
            color: var(--warning-text);
        }

        /* Responsive adjustments for educational panel */
        @media (max-width: 640px) {
            #educational-panel {
                width: 100vw;
            }
            
            .educational-topic-btn {
                font-size: 0.75rem;
                padding: 0.5rem;
            }

            /* Extra small screen improvements */
            header h1 {
                font-size: 1rem !important;
            }

            #app {
                padding: 0.75rem !important;
                border-radius: 0 !important;
                margin: 0 !important;
            }

            h2 {
                font-size: 1.25rem !important;
                margin-bottom: 1rem !important;
            }

            h3 {
                font-size: 1.1rem !important;
            }

            /* Improve form spacing on very small screens */
            .space-y-8 > * + * {
                margin-top: 1.5rem !important;
            }

            .space-y-4 > * + * {
                margin-top: 1rem !important;
            }

            .space-y-2 > * + * {
                margin-top: 0.75rem !important;
            }

            /* Better button sizing */
            button {
                min-height: 44px !important;
                padding: 0.75rem 1rem !important;
                font-size: 0.875rem !important;
            }

            /* Improve fieldset appearance */
            fieldset {
                padding: 1rem 0.75rem !important;
                margin: 0.5rem 0 !important;
            }

            legend {
                padding: 0 0.5rem !important;
                font-size: 0.875rem !important;
            }
        }

        /* Mobile-specific navigation improvements */
        @media (max-width: 768px) {
            /* Hide sidebar on mobile by default */
            #main-sidebar {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                height: 100vh !important;
                width: 80vw !important;
                max-width: 280px !important;
                transform: translateX(-100%) !important;
                z-index: 60 !important;
                transition: transform 0.3s ease-in-out !important;
            }

            #main-sidebar.mobile-visible {
                transform: translateX(0) !important;
            }

            /* Show overlay when sidebar is open on mobile */
            #sidebar-overlay.show {
                display: block !important;
                opacity: 1 !important;
            }

            /* Adjust main layout for mobile */
            .grid.main-layout {
                grid-template-columns: 1fr !important;
            }

            /* Improve header responsiveness */
            header .container,
            header {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }

            header h1 {
                font-size: 1.5rem !important;
            }

            /* Better mobile container */
            main {
                padding: 1rem !important;
            }

            #app {
                padding: 1rem !important;
                margin: 0 !important;
            }

            /* Improve fieldset legend styling on mobile */
            legend {
                font-size: 1rem !important;
                margin-bottom: 0.75rem !important;
                font-weight: 600 !important;
            }

            /* Better summary styling for accordions */
            summary {
                cursor: pointer;
                user-select: none;
                margin-bottom: 1rem !important;
            }

            /* Improve help icon positioning on mobile */
            .help-icon {
                margin-left: 0.5rem !important;
                font-size: 1.2rem !important;
                cursor: help !important;
                color: hsl(var(--primary)) !important;
            }

            /* Fix for educational panel on mobile */
            #educational-panel {
                width: 100vw !important;
                max-width: none !important;
            }
        }

        /* Prevent horizontal scroll on mobile */
        @media (max-width: 768px) {
            html, body {
                overflow-x: hidden !important;
                width: 100% !important;
                max-width: 100% !important;
            }

            * {
                max-width: 100% !important;
                box-sizing: border-box !important;
            }

            /* Fix main layout overflow */
            .grid.main-layout {
                width: 100% !important;
                min-height: 100vh !important;
                overflow: visible !important;
            }

            /* Ensure money input fields don't overflow */
            .money-mask,
            input[type="text"],
            input[type="number"],
            input[type="date"],
            select {
                width: 100% !important;
                min-width: 0 !important;
                max-width: 100% !important;
            }

            /* Fix potential overflow in details content */
            details > div {
                overflow-x: hidden !important;
                width: 100% !important;
            }

            /* Fix grid columns to prevent overflow */
            .grid.grid-cols-1.md\\:grid-cols-2 {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }

            /* Ensure containers don't exceed viewport */
            .container,
            .max-w-4xl,
            .max-w-2xl {
                max-width: 100% !important;
                width: 100% !important;
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }

            /* Improve spacing between form sections */
            .space-y-8 > * + * {
                margin-top: 2rem !important;
            }

            .space-y-4 > * + * {
                margin-top: 1.5rem !important;
            }

            /* Fix sidebar overlay z-index issues */
            #sidebar-overlay {
                z-index: 55 !important;
            }

            #main-sidebar {
                z-index: 60 !important;
            }
        }

        /* Loading animation for educational content */
        .educational-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .educational-loading::after {
            content: "";
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray-200);
            border-top: 2px solid hsl(var(--primary));
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* === MOBILE DROPDOWN STYLES === */
        
        /* Mobile Navigation Dropdown */
        #mobile-nav-dropdown {
            position: relative;
        }
        
        #mobile-nav-trigger {
            background-color: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            transition: all 0.2s ease-in-out;
        }
        
        #mobile-nav-trigger:hover {
            background-color: var(--accent);
            color: var(--accent-foreground);
        }
        
        #mobile-nav-trigger[aria-expanded="true"] svg {
            transform: rotate(180deg);
        }
        
        #mobile-nav-panel {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 50;
            margin-top: 0.25rem;
            background-color: var(--popover);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.2s ease-out, transform 0.2s ease-out;
            pointer-events: none;
        }
        
        #mobile-nav-panel.show {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }
        
        .mobile-nav-option {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            text-align: left;
            color: var(--popover-foreground);
            background-color: transparent;
            border: none;
            border-radius: 0;
            transition: background-color 0.15s ease-in-out;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .mobile-nav-option:hover {
            background-color: var(--accent);
            color: var(--accent-foreground);
        }
        
        .mobile-nav-option:focus {
            outline: none;
            background-color: var(--accent);
            color: var(--accent-foreground);
        }
        
        .mobile-nav-option.active {
            background-color: var(--primary);
            color: var(--primary-foreground);
            font-weight: 600;
        }
        
        .mobile-nav-option:first-child {
            border-top-left-radius: var(--radius-md);
            border-top-right-radius: var(--radius-md);
        }
        
        .mobile-nav-option:last-child {
            border-bottom-left-radius: var(--radius-md);
            border-bottom-right-radius: var(--radius-md);
        }

        /* === KNOWLEDGE BASE MODAL SLIDE ANIMATIONS === */
        
        /* Modal container with overflow hidden for slide animation */
        #knowledge-base-modal .modal-content {
            overflow: hidden;
            position: relative;
        }
        
        /* View container for slide animations */
        .kb-views-container {
            position: relative;
            width: 100%;
            overflow: hidden;
        }
        
        /* Individual knowledge base view styles */
        .kb-view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 300px;
            transition: transform 0.3s ease-in-out;
            opacity: 1;
        }
        
        /* View states for slide animation */
        .kb-view.slide-out-left {
            transform: translateX(-100%);
        }
        
        .kb-view.slide-in-right {
            transform: translateX(100%);
        }
        
        .kb-view.active {
            position: relative;
            transform: translateX(0);
        }
        
        /* Smooth transitions between views */
        .kb-view.transitioning {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        
        /* Back button styling for knowledge base */
        .kb-back-button {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--primary);
            background-color: transparent;
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        
        .kb-back-button:hover {
            background-color: var(--accent);
            color: var(--accent-foreground);
            border-color: var(--accent-foreground);
        }
        
        .kb-back-button svg {
            margin-right: 0.5rem;
            width: 1rem;
            height: 1rem;
        }

        /* === MOBILE RESPONSIVE ADJUSTMENTS === */
        
        @media (max-width: 1024px) {
            /* Ensure main layout takes full width on mobile */
            .grid.main-layout {
                grid-template-columns: 1fr !important;
            }
            
            /* Hide desktop sidebar completely on mobile */
            #main-sidebar {
                display: none !important;
            }
            
            /* Adjust header for mobile */
            header {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }
            
            /* Improve main content spacing */
            main {
                padding: 0.75rem !important;
            }
            
            #app {
                padding: 1rem !important;
                border-radius: var(--radius-lg) !important;
                margin: 0 !important;
            }
            
            /* Ensure dropdown is visible on mobile */
            #mobile-nav-dropdown {
                display: block !important;
            }
        }
        
        /* Force single column layout on mobile for all forms */
        @media (max-width: 1024px) {
            .grid.grid-cols-1.md\\:grid-cols-2 {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }
            
            /* Ensure modal content is single column on mobile */
            #calculation-memory-modal-body .grid {
                grid-template-columns: 1fr !important;
            }
            
            /* Knowledge base modal adjustments for mobile */
            #knowledge-base-modal .modal-content {
                max-height: 90vh;
                overflow-y: auto;
            }
        }

        /* === SIDEBAR STYLES (FASE 3) === */
        
        /* Sidebar Link Styles */
        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            font-weight: 500;
            border-radius: 0.375rem;
            transition: all 0.2s ease-in-out;
            color: var(--gray-700);
        }

        .sidebar-link:hover {
            background-color: var(--gray-50);
            color: var(--gray-900);
        }

        .sidebar-link.active {
            background-color: var(--gray-600);
            color: white;
            box-shadow: 0 4px 8px 0 rgb(75 85 99 / 0.2);
            font-weight: 600;
        }

        .sidebar-link.active:hover {
            background-color: var(--gray-700);
            box-shadow: 0 6px 12px 0 rgb(75 85 99 / 0.3);
        }

        .sidebar-link:hover:not(.active) {
            background-color: var(--gray-100);
        }

        /* Sidebar Collapsed States (Brave-like functionality) */
        #main-sidebar.collapsed {
            width: 4rem; /* w-16 - 64px */
        }

        #main-sidebar.collapsed .sidebar-header {
            padding: 1rem 0.5rem;
            justify-content: center;
        }

        #main-sidebar.collapsed .sidebar-header h1 {
            display: none;
        }

        #main-sidebar.collapsed .sidebar-footer {
            display: none;
        }

        /* Sidebar dots for collapsed state */
        .sidebar-dot {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            background-color: var(--gray-100);
            margin: 0.5rem auto;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: 1px solid var(--gray-200);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        }

        .sidebar-dot:hover {
            background-color: var(--gray-50);
            border-color: var(--gray-300);
            transform: scale(1.05);
            box-shadow: 0 2px 4px 0 rgb(0 0 0 / 0.1);
        }

        .sidebar-dot:hover:not(.active) {
            background-color: var(--gray-50);
            border-color: var(--gray-300);
        }

        .sidebar-dot.active {
            background-color: var(--gray-600);
            border-color: var(--gray-600);
            color: white;
            box-shadow: 0 4px 12px 0 rgb(75 85 99 / 0.3);
            transform: scale(1.1);
        }

        .sidebar-dot.active:hover {
            background-color: var(--gray-700);
            border-color: var(--gray-700);
            box-shadow: 0 6px 16px 0 rgb(75 85 99 / 0.4);
        }

        .sidebar-dot.active .material-icons {
            color: white;
            font-weight: 500;
        }

        .sidebar-dot .material-icons {
            font-size: 16px;
            color: var(--gray-500);
            transition: all 0.2s ease-in-out;
        }

        /* Tooltip for collapsed sidebar */
        .sidebar-dot[title] {
            position: relative;
        }

        .sidebar-dot[title]:hover::after {
            content: attr(title);
            position: absolute;
            left: 3.5rem;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--gray-800);
            color: white;
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            white-space: nowrap;
            z-index: 1000;
            opacity: 0;
            animation: fadeIn 0.2s ease-in-out forwards;
        }

        .sidebar-dot[title]:hover::before {
            content: '';
            position: absolute;
            left: 3rem;
            top: 50%;
            transform: translateY(-50%);
            border: 4px solid transparent;
            border-right-color: var(--gray-800);
            z-index: 1000;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Hide text elements when collapsed */
        #main-sidebar.collapsed .sidebar-link {
            display: none;
        }

        /* Hide full title when collapsed, show initials */
        #main-sidebar.collapsed .sidebar-title {
            display: none;
        }

        #main-sidebar.collapsed .sidebar-initials {
            display: block !important;
        }

        /* Hide initials when expanded, show full title */
        #main-sidebar.expanded .sidebar-title {
            display: block;
        }

        #main-sidebar.expanded .sidebar-initials {
            display: none !important;
        }

        /* Hide footer button text when collapsed */
        #main-sidebar.collapsed .sidebar-footer {
            display: none;
        }

        #main-sidebar.collapsed .sidebar-dots {
            display: flex;
            flex-direction: column;
            padding: 1rem 0;
        }

        /* Show dots only when collapsed */
        .sidebar-dots {
            display: none;
        }

        /* Mobile Sidebar States */
        /* === SIDEBAR GRID LAYOUT STYLES === */
        #main-sidebar {
            transition: width 0.3s ease-in-out, margin-left 0.3s ease-in-out;
            height: 100vh;
            overflow-y: auto;
        }

        /* Hidden state - sidebar completely hidden */
        #main-sidebar.hidden {
            width: 0;
            margin-left: -1rem;
            border-right: none;
        }

        /* Collapsed state - show only dots */
        #main-sidebar.collapsed {
            width: 4rem; /* w-16 - 64px */
        }

        /* Adjust header padding when collapsed */
        #main-sidebar.collapsed .sidebar-header {
            padding-left: 0;
            padding-right: 0;
        }

        /* Expanded state - default, full width */
        #main-sidebar.expanded {
            width: 16rem; /* w-64 - 256px */
        }

        /* Grid layout adjustments */
        .grid.main-layout {
            grid-template-columns: auto 1fr;
        }

        .grid.main-layout.sidebar-hidden {
            grid-template-columns: 0 1fr;
        }

        .grid.main-layout.sidebar-collapsed {
            grid-template-columns: 4rem 1fr;
        }

        .grid.main-layout.sidebar-expanded {
            grid-template-columns: 16rem 1fr;
        }

        /* Header positioning - ensure it stays fixed at top */
        header {
            position: sticky;
            top: 0;
            z-index: 40;
        }

        /* Desktop Header Styling */
        @media (min-width: 1024px) {
            /* Ensure header is always visible on desktop */
            header {
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                height: auto !important;
            }
            
            /* Clean button styling for header buttons */
            #sidebar-toggle-btn,
            #educational-panel-menu-btn {
                display: flex !important;
                visibility: visible !important;
                background-color: transparent !important;
                border: none !important;
                color: #6b7280 !important; /* text-gray-500 */
                transition: all 0.2s ease-in-out !important;
            }
            
            #sidebar-toggle-btn:hover,
            #educational-panel-menu-btn:hover {
                background-color: #f3f4f6 !important; /* bg-gray-100 */
                color: #374151 !important; /* text-gray-700 */
            }
        }

        /* Input Validation Styles (FASE 3) */
        .field-validation {
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: flex;
            align-items: center;
        }

        .field-validation svg {
            width: 0.75rem;
            height: 0.75rem;
            margin-right: 0.25rem;
            flex-shrink: 0;
        }

        /* Success/Error Input States */
        .input-success {
            border-color: var(--chart-success) !important;
            background-color: var(--chart-success-light) !important;
        }

        .input-error {
            border-color: var(--chart-error) !important;
            background-color: var(--chart-error-light) !important;
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 100;
            padding: 1rem;
            border-radius: var(--radius-lg);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform: translateY(-0.5rem);
            opacity: 0;
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .notification.success {
            background-color: var(--chart-success-light);
            color: var(--chart-success-dark);
            border: 1px solid var(--chart-success-border);
        }

        .notification.error {
            background-color: var(--chart-error-light);
            color: var(--chart-error-dark);
            border: 1px solid var(--chart-error-border);
        }

        .notification.info {
            background-color: var(--info-light);
            color: var(--info-dark);
            border: 1px solid var(--info-border);
        }

        /* Improve mobile header spacing */
        @media (max-width: 1024px) {
            .lg\\:hidden {
                display: block !important;
            }

            /* Ensure mobile header is properly spaced */
            header {
                padding: 0.75rem 1rem !important;
                min-height: 64px !important;
            }

            /* Mobile header button improvements */


            #educational-panel-menu-btn {
                padding: 0.75rem !important;
                min-width: 44px !important;
                min-height: 44px !important;
            }

            /* Center title on mobile */
            header .flex-1.lg\\:hidden {
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
            }

            header .flex-1.lg\\:hidden h1 {
                font-size: 1.125rem !important;
                font-weight: 600 !important;
                text-align: center !important;
                margin: 0 !important;
            }

            /* Improve main content spacing on mobile */
            main {
                padding: 0.5rem !important;
                margin-top: 0 !important;
            }

            #app {
                border-radius: var(--radius-lg) !important;
                margin: 0 !important;
                box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1) !important;
            }
        }

        /* ============================================= */
        /* Estilo para Detalhes de Cálculo             */
        /* ============================================= */

        /* Contêiner principal para cada item "details" */
        .calculation-details-item {
            border-bottom: 1px solid var(--details-border-color);
            padding: 0.5rem 0;
        }

        .calculation-details-item:last-child {
            border-bottom: none; /* Remove a borda do último item */
        }

        /* Estilização do <summary> - o cabeçalho clicável */
        .calculation-details-item > summary {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 0.75rem 0.5rem;
            font-weight: 500;
            color: var(--details-text-color);
            background-color: var(--details-bg-color);
            cursor: pointer;
            list-style: none; /* Remove o marcador padrão */
            border-radius: var(--details-border-radius);
            transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            outline: none; /* Remove o outline padrão */
        }

        /* Remove o marcador padrão no Safari */
        .calculation-details-item > summary::-webkit-details-marker {
            display: none;
        }

        /* Estilo de foco para acessibilidade (navegação por teclado) */
        .calculation-details-item > summary:focus-visible {
            box-shadow: 0 0 0 2px var(--details-focus-ring-color);
        }

        /* Efeito de hover para indicar interatividade */
        .calculation-details-item > summary:hover {
            background-color: var(--details-bg-hover-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* Ícone de Chevron (SVG) */
        .calculation-details-item > summary::after {
            content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            width: 1rem;
            height: 1rem;
            display: inline-block;
            transition: transform var(--details-transition-duration) ease;
        }

        /* Rotação do ícone quando o "details" está aberto */
        .calculation-details-item[open] > summary::after {
            transform: rotate(180deg);
        }

        /* Conteúdo que é revelado */
        .calculation-details-content {
            overflow: hidden;
            max-height: 0;
            opacity: 0;
            transition: max-height var(--details-transition-duration) ease-in-out,
                        padding var(--details-transition-duration) ease-in-out,
                        opacity var(--details-transition-duration) ease-in-out;
            padding: 0 1rem; /* Padding horizontal aplicado, vertical será animado */
            background-color: var(--details-content-bg-color);
            border-left: 3px solid var(--details-accent-color);
            border-radius: 0 0 var(--details-border-radius) var(--details-border-radius);
            font-size: var(--details-content-font-size);
            color: var(--details-content-text-color);
            line-height: 1.5;
        }

        /* Expande o conteúdo quando o "details" está aberto */
        .calculation-details-item[open] > .calculation-details-content {
            max-height: 500px; /* Um valor alto o suficiente para o conteúdo */
            opacity: 1;
            padding: 1rem; /* Adiciona o padding vertical ao abrir */
            margin-top: 0.5rem;
        }
    </style>
    <style>
        .dark .sun-icon { display: none; }
        .dark .moon-icon { display: block !important; }

        /* Modal Transitions */
        .modal-open {
            opacity: 1 !important;
            pointer-events: auto !important;
            -webkit-backdrop-filter: blur(2px);
            backdrop-filter: blur(2px);
        }

        .modal-open .modal-content {
            transform: scale(1) !important;
        }

        #calculation-memory-modal, #knowledge-base-modal, #customize-modal, #faq-modal {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease-in-out, backdrop-filter 0.2s ease-in-out;
        }

        #calculation-memory-modal-content, #knowledge-base-modal .modal-content, #customize-modal-content, #faq-modal .modal-content {
            transform: scale(0.95);
            transition: transform 0.2s ease-in-out;
        }

        #mobile-menu-btn:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Print Header - Only visible when printing -->
    <div class="print-header" style="display: none;">
        <div class="print-company-info">
            <h1>Calculadora Trabalhista</h1>
            <p>Pedro Afonso MEI - Estúdio Criativo Labareda</p>
            <p>Relatório gerado em: <span id="print-date"></span></p>
        </div>
        <hr>
    </div>

    <!-- Active Calculator Indicator (quando sidebar escondida) -->
    <div id="active-calculator-indicator" class="fixed top-4 left-4 z-60 w-12 h-12 rounded-full bg-primary text-primary-foreground shadow-lg hidden transition-all duration-300 ease-in-out">
        <div class="flex items-center justify-center w-full h-full">
            <span id="active-calculator-icon" class="material-icons text-white">calculate</span>
        </div>
    </div>

    <!-- Overlay para mobile sidebar -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-40 hidden transition-opacity duration-300 lg:hidden"></div>

    <!-- Layout Principal com Sidebar - Grid Layout -->
    <div class="grid main-layout grid-cols-[auto_1fr] min-h-screen bg-background overflow-hidden">
        <!-- Sidebar -->
        <aside id="main-sidebar" class="hidden lg:block z-50 w-64 bg-white border-r border-gray-200 transition-all duration-300 ease-in-out">
            <!-- Logo -->
            <div class="sidebar-header flex items-center justify-center h-16 px-6 border-b border-gray-200">
                <h1 class="sidebar-title text-lg font-semibold text-primary">Calculadora Trabalhista</h1>
                <div class="sidebar-initials text-lg font-bold text-primary hidden">CT</div>
            </div>
            
            <!-- Navigation Links (Expanded Mode) -->
            <nav class="flex-1 overflow-y-auto py-4">
                <ul id="sidebar-nav-list" class="space-y-1 px-3">
                    <!-- Links serão gerados dinamicamente pelo JavaScript -->
                </ul>
            </nav>

            <!-- Navigation Dots (Collapsed Mode) -->
            <nav class="sidebar-dots flex-1 overflow-y-auto py-4">
                <div id="sidebar-dots-list" class="flex flex-col items-center space-y-2">
                    <!-- Dots serão gerados dinamicamente pelo JavaScript -->
                </div>
            </nav>
            
            <!-- Footer da Sidebar -->
            <div class="sidebar-footer border-t border-gray-200 p-4">
                <!-- Botão FAQ - Base de Conhecimento -->
                <button id="open-faq-btn" class="w-full text-sm text-info hover:text-info/80 hover:bg-info/10 px-3 py-2 rounded-md transition-colors mb-2">
                    <span class="sidebar-title">📚 Base de Conhecimento</span>
                    <span class="sidebar-initials hidden">📚</span>
                </button>
                
                <button id="clear-data-btn" class="w-full text-sm text-error hover:text-error/80 hover:bg-error/10 px-3 py-2 rounded-md transition-colors">
                    Limpar Dados Salvos
                </button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <div class="flex-1">
            <!-- Header com botão hambúrguer mobile -->
            <header class="bg-background border-b block lg:block">
                <div class="flex items-center px-4 py-3 lg:px-6 lg:py-4">
                    <!-- Mobile Menu Button (visible only on mobile) -->
                    <div class="lg:hidden">
                        <button id="mobile-menu-btn"
                                class="flex items-center justify-center w-10 h-10 -ml-2 rounded-md bg-background hover:bg-accent hover:text-accent-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
                                aria-label="Abrir menu"
                                title="Abrir menu">
                            <span class="material-icons">menu</span>
                        </button>
                    </div>
                    
                    <!-- Center - Logo mobile (visível apenas em mobile) -->
                    <div class="flex-1 lg:hidden flex justify-center">
                        <h1 class="text-lg font-semibold text-primary">Calculadora Trabalhista</h1>
                    </div>
                    
                    <!-- Spacer for desktop -->
                    <div class="hidden lg:flex flex-1"></div>
                    
                    <!-- Right side - Buttons -->
                    <div class="flex items-center space-x-3">
                        <!-- Sidebar Toggle Button (desktop only) -->
                        <button id="sidebar-toggle-btn" 
                                class="hidden lg:flex items-center justify-center w-10 h-10 rounded-md bg-background hover:bg-accent hover:text-accent-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
                                aria-label="Expandir/Retrair calculadoras" 
                                title="Alternar exibição da sidebar">
                            <span class="material-icons text-gray-600">apps</span>
                        </button>
                        
                        <!-- Educational Panel Menu Button -->
                        <button id="educational-panel-menu-btn" 
                                class="flex items-center justify-center w-10 h-10 rounded-md bg-background hover:bg-accent hover:text-accent-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
                                aria-label="Abrir painel educacional"
                                title="Informe-se - Conteúdo Educacional">
                            <span class="material-icons text-gray-600">menu_book</span>
                        </button>

                        <!-- Theme Toggle Button -->
                        <button id="theme-toggle-btn"
                                class="flex items-center justify-center w-10 h-10 rounded-md bg-background hover:bg-accent hover:text-accent-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
                                aria-label="Alternar tema claro/escuro"
                                title="Alternar tema">
                            <span class="material-icons sun-icon">light_mode</span>
                            <span class="material-icons moon-icon hidden">dark_mode</span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="p-4 sm:p-6 md:p-8">
                <div id="app" class="max-w-4xl mx-auto bg-card text-card-foreground p-4 sm:p-6 md:p-8 rounded-lg shadow-lg">
                    <h2 class="text-2xl sm:text-3xl font-bold text-center mb-6 sm:mb-8 text-foreground">
                        Calcule Seus Direitos
                    </h2>


                    <!-- Calculator UI -->
                    <div id="calculator-container" data-value="ferias">
                        <!-- REMOVIDO: Tab Navigation será substituída pela sidebar -->
                        
                        <!-- Tab Content -->
                  <!-- Férias Calculator -->
                  <div id="calculator-ferias" value="ferias" role="tabpanel" data-state="active" class="mt-4">
                      <form id="form-ferias">
                          <div class="space-y-8">
                              <!-- Grupo: Informações Principais -->
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de Férias</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-bruto-ferias" class="label">Salário Bruto Mensal</label>
                                          <input type="text" id="salario-bruto-ferias" name="salario-bruto-ferias" data-state="ferias.salarioBruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2500.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="dias-ferias" class="label">Dias de férias a tirar</label>
                                          <input type="number" id="dias-ferias" name="dias-ferias" value="30" data-state="ferias.diasFerias" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="dependentes-ferias" class="label">Dependentes (para IRRF)</label>
                                          <input type="number" id="dependentes-ferias" name="dependentes-ferias"  data-state="ferias.dependentes" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                  </div>
                              </div>
                              <!-- Acordeão: Verbas Variáveis -->
                              <details class="space-y-2">
                                  <summary class="flex items-center text-lg font-semibold cursor-pointer text-primary hover:text-primary/80 transition-colors">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-200 ease-in-out"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                      Proventos Adicionais (Horas Extras, Insalubridade...)
                                  </summary>
                                  <div class="pt-4 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 border-t">
                                      <div class="space-y-2">
                                          <label for="media-horas-extras-ferias" class="label">Média Mensal de Horas Extras</label>
                                          <input type="text" id="media-horas-extras-ferias" name="media-horas-extras-ferias" data-state="ferias.mediaHorasExtras" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 250.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="media-adicional-noturno-ferias" class="label">Média Mensal de Adicional Noturno</label>
                                          <input type="text" id="media-adicional-noturno-ferias" name="media-adicional-noturno-ferias" data-state="ferias.mediaAdicionalNoturno" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 150.00">
                                      </div>
                                      <div class="flex items-center space-x-2 md:col-span-2">
                                          <input type="checkbox" id="periculosidade-ferias" name="periculosidade-ferias" data-state="ferias.periculosidade" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                          <label for="periculosidade-ferias" class="label">Recebe Adicional de Periculosidade (fixo)?</label>
                                      </div>
                                      <fieldset class="space-y-2 md:col-span-2">
                                          <legend class="label">Adicional de Insalubridade (fixo)</legend>
                                          <div id="insalubridade-grau-ferias-group" role="radiogroup" class="flex items-center space-x-1 rounded-md bg-muted p-1">
                                              <label for="insalubridade-grau-ferias-0" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="active">Não se aplica</label>
                                              <input type="radio" id="insalubridade-grau-ferias-0" name="insalubridade-grau-ferias" data-state="ferias.insalubridadeGrau"  checked class="sr-only">

                                              <label for="insalubridade-grau-ferias-10" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Mínimo (10%)</label>
                                              <input type="radio" id="insalubridade-grau-ferias-10" name="insalubridade-grau-ferias" data-state="ferias.insalubridadeGrau" value="10" class="sr-only">

                                              <label for="insalubridade-grau-ferias-20" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Médio (20%)</label>
                                              <input type="radio" id="insalubridade-grau-ferias-20" name="insalubridade-grau-ferias" data-state="ferias.insalubridadeGrau" value="20" class="sr-only">

                                              <label for="insalubridade-grau-ferias-40" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Máximo (40%)</label>
                                              <input type="radio" id="insalubridade-grau-ferias-40" name="insalubridade-grau-ferias" data-state="ferias.insalubridadeGrau" value="40" class="sr-only">
                                          </div>
                                      </fieldset>
                                      <fieldset class="space-y-2">
                                          <legend class="label">Base de Cálculo da Insalubridade</legend>
                                          <div class="flex items-center space-x-4">
                                              <input type="radio" id="base-salario-minimo-ferias" name="insalubridade-base-ferias" data-state="ferias.insalubridadeBase" value="salario_minimo" checked class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-minimo-ferias" class="label">Salário Mínimo</label>
                                              <input type="radio" id="base-salario-bruto-ferias" name="insalubridade-base-ferias" data-state="ferias.insalubridadeBase" value="salario_bruto" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-bruto-ferias" class="label">Salário Base</label>
                                          </div>
                                      </fieldset>
                                  </div>
                              </details>
                              <!-- Opções de Férias -->
                              <div class="space-y-4 pt-4 border-t">
                                  <h3 class="text-lg font-semibold text-foreground">Opções das Férias</h3>
                                  <div class="flex items-center space-x-2">
                                      <input type="checkbox" id="abono-pecuniario" name="abono-pecuniario" data-state="ferias.abonoPecuniario" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                      <label for="abono-pecuniario" class="label">Vender 1/3 das férias (abono pecuniário)</label>
                                      <span class="help-icon" data-topic="abono-pecuniario" data-tooltip="Clique para ver a explicação legal">(?)</span>
                                  </div>
                                  <div class="flex items-center space-x-2">
                                      <input type="checkbox" id="adiantar-decimo" name="adiantar-decimo" data-state="ferias.adiantarDecimo" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                      <label for="adiantar-decimo" class="label">Adiantar 1ª parcela do 13º salário</label>
                                      <span class="help-icon" data-topic="adiantamento-13" data-tooltip="Clique para ver a explicação legal">(?)</span>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="ferias-results" class="mt-10"></div>
                  </div>

                  <!-- Rescisão Calculator -->
                  <div id="calculator-rescisao" value="rescisao" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-rescisao">
                          <div class="space-y-8">
                              <!-- Grupo: Informações da Rescisão -->
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de Rescisão</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2 md:col-span-2">
                                          <label for="motivo-rescisao" class="label">Motivo da Rescisão</label>
                                          <select id="motivo-rescisao" name="motivo-rescisao" data-state="rescisao.motivo" class="flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm appearance-none">
                                              <option value="sem_justa_causa">Demissão sem Justa Causa</option>
                                              <option value="pedido_demissao">Pedido de Demissão</option>
                                              <option value="com_justa_causa">Demissão com Justa Causa</option>
                                              <option value="acordo_mutuo">Acordo Mútuo</option>
                                              <option value="termino_contrato_experiencia">Término de Contrato de Experiência</option>
                                          </select>
                                      </div>
                                      <div class="space-y-2">
                                          <label for="data-admissao" class="label">Data de Admissão</label>
                                          <input type="date" id="data-admissao" name="data-admissao" data-state="rescisao.dataAdmissao" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="data-demissao" class="label">Data de Demissão</label>
                                          <input type="date" id="data-demissao" name="data-demissao" data-state="rescisao.dataDemissao" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="salario-bruto-rescisao" class="label">Último Salário Bruto</label>
                                          <input type="text" id="salario-bruto-rescisao" name="salario-bruto-rescisao" data-state="rescisao.salarioBruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2500.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="saldo-fgts" class="label">Saldo do FGTS</label>
                                          <input type="text" id="saldo-fgts" name="saldo-fgts" data-state="rescisao.saldoFgts" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 5000.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="aviso-previo" class="label">Aviso Prévio</label>
                                          <select id="aviso-previo" name="aviso-previo" data-state="rescisao.avisoPrevio" class="flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm appearance-none">
                                              <option value="indenizado">Indenizado</option>
                                              <option value="trabalhado">Trabalhado</option>
                                              <option value="dispensado">Dispensado / Não se aplica</option>
                                          </select>
                                      </div>
                                      <div class="space-y-2">
                                          <label for="dependentes-rescisao" class="label">Dependentes (para IRRF)</label>
                                          <input type="number" id="dependentes-rescisao" name="dependentes-rescisao"  data-state="rescisao.dependentes" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                      <div class="flex items-center space-x-2 md:col-span-2">
                                          <input type="checkbox" id="ferias-vencidas" name="ferias-vencidas" data-state="rescisao.feriasVencidas" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                          <label for="ferias-vencidas" class="label">Possui férias vencidas não gozadas?</label>
                                          <span class="help-icon" data-topic="ferias-vencidas" data-tooltip="Clique para ver a explicação legal">(?)</span>
                                      </div>
                                  </div>
                              </div>
                              <!-- Acordeão: Verbas Variáveis -->
                              <details class="space-y-2">
                                  <summary class="flex items-center text-lg font-semibold cursor-pointer text-primary hover:text-primary/80 transition-colors">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-200 ease-in-out"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                      Proventos Adicionais (Horas Extras, Insalubridade...)
                                  </summary>
                                  <div class="pt-4 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 border-t">
                                      <div class="space-y-2">
                                          <label for="media-horas-extras-rescisao" class="label">Média Mensal de Horas Extras</label>
                                          <input type="text" id="media-horas-extras-rescisao" name="media-horas-extras-rescisao" data-state="rescisao.mediaHorasExtras" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 250.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="media-adicional-noturno-rescisao" class="label">Média Mensal de Adicional Noturno</label>
                                          <input type="text" id="media-adicional-noturno-rescisao" name="media-adicional-noturno-rescisao" data-state="rescisao.mediaAdicionalNoturno" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 150.00">
                                      </div>
                                      <div class="flex items-center space-x-2 md:col-span-2">
                                          <input type="checkbox" id="periculosidade-rescisao" name="periculosidade-rescisao" data-state="rescisao.periculosidade" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                          <label for="periculosidade-rescisao" class="label">Recebe Adicional de Periculosidade (fixo)?</label>
                                      </div>
                                      <fieldset class="space-y-2 md:col-span-2">
                                          <legend class="label">Adicional de Insalubridade (fixo)</legend>
                                          <div id="insalubridade-grau-rescisao-group" role="radiogroup" class="flex items-center space-x-1 rounded-md bg-muted p-1">
                                              <label for="insalubridade-grau-rescisao-0" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="active">Não se aplica</label>
                                              <input type="radio" id="insalubridade-grau-rescisao-0" name="insalubridade-grau-rescisao" data-state="rescisao.insalubridadeGrau"  checked class="sr-only">

                                              <label for="insalubridade-grau-rescisao-10" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Mínimo (10%)</label>
                                              <input type="radio" id="insalubridade-grau-rescisao-10" name="insalubridade-grau-rescisao" data-state="rescisao.insalubridadeGrau" value="10" class="sr-only">

                                              <label for="insalubridade-grau-rescisao-20" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Médio (20%)</label>
                                              <input type="radio" id="insalubridade-grau-rescisao-20" name="insalubridade-grau-rescisao" data-state="rescisao.insalubridadeGrau" value="20" class="sr-only">

                                              <label for="insalubridade-grau-rescisao-40" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Máximo (40%)</label>
                                              <input type="radio" id="insalubridade-grau-rescisao-40" name="insalubridade-grau-rescisao" data-state="rescisao.insalubridadeGrau" value="40" class="sr-only">
                                          </div>
                                      </fieldset>
                                      <fieldset class="space-y-2">
                                          <legend class="label">Base de Cálculo da Insalubridade</legend>
                                          <div class="flex items-center space-x-4">
                                              <input type="radio" id="base-salario-minimo-rescisao" name="insalubridade-base-rescisao" data-state="rescisao.insalubridadeBase" value="salario_minimo" checked class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-minimo-rescisao" class="label">Salário Mínimo</label>
                                              <input type="radio" id="base-salario-bruto-rescisao" name="insalubridade-base-rescisao" data-state="rescisao.insalubridadeBase" value="salario_bruto" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-bruto-rescisao" class="label">Salário Base</label>
                                          </div>
                                      </fieldset>
                                  </div>
                              </details>
                              <!-- Acordeão: Outros Descontos -->
                              <details class="space-y-2">
                                  <summary class="flex items-center text-lg font-semibold cursor-pointer text-primary hover:text-primary/80 transition-colors">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-200 ease-in-out"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                      Outros Descontos
                                  </summary>
                                  <div class="pt-4 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 border-t">
                                      <div class="space-y-2">
                                          <label for="desconto-vt-rescisao" class="text-sm font-medium flex items-center space-x-2">
                                              <span>Desconto de Vale-Transporte</span>
                                              <span class="help-icon" data-topic="desconto_vt" data-tooltip="Como funciona o desconto de VT?">(?)</span>
                                          </label>
                                          <input type="text" id="desconto-vt-rescisao" name="desconto-vt-rescisao" data-state="rescisao.descontoVt" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 300.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="desconto-vr-rescisao" class="label">Desconto Vale-Refeição/Alimentação</label>
                                          <input type="text" id="desconto-vr-rescisao" name="desconto-vr-rescisao" data-state="rescisao.descontoVr" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 50.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="desconto-saude-rescisao" class="label">Desconto Plano de Saúde / Odontológico</label>
                                          <input type="text" id="desconto-saude-rescisao" name="desconto-saude-rescisao" data-state="rescisao.descontoSaude" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 100.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="desconto-adiantamentos-rescisao" class="label">Adiantamentos (Vale)</label>
                                          <input type="text" id="desconto-adiantamentos-rescisao" name="desconto-adiantamentos-rescisao" data-state="rescisao.descontoAdiantamentos" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 400.00">
                                      </div>
                                  </div>
                              </details>
                          </div>
                      </form>
                      <div id="rescisao-results" class="mt-10"></div>
                  </div>

                  <!-- 13º Salário Calculator -->
                  <div id="calculator-decimo-terceiro" value="decimo-terceiro" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-decimo-terceiro">
                          <div class="space-y-8">
                              <!-- Grupo: Informações Principais -->
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de 13º Salário</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-bruto-decimo-terceiro" class="label">Salário Bruto Mensal</label>
                                          <input type="text" id="salario-bruto-decimo-terceiro" name="salario-bruto-decimo-terceiro" data-state="decimoTerceiro.salarioBruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2500.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="meses-trabalhados-decimo-terceiro" class="label">Meses trabalhados no ano</label>
                                          <input type="number" id="meses-trabalhados-decimo-terceiro" name="meses-trabalhados-decimo-terceiro" min="1" max="12" value="12" data-state="decimoTerceiro.mesesTrabalhados" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="dependentes-decimo-terceiro" class="label">Dependentes (para IRRF)</label>
                                          <input type="number" id="dependentes-decimo-terceiro" name="dependentes-decimo-terceiro"  min="0" data-state="decimoTerceiro.dependentes" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="adiantamento-recebido-decimo-terceiro" class="label">Adiantamento da 1ª parcela já recebido</label>
                                          <input type="text" id="adiantamento-recebido-decimo-terceiro" name="adiantamento-recebido-decimo-terceiro" min="0" data-state="decimoTerceiro.adiantamentoRecebido" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 1250.00">
                                      </div>
                                  </div>
                              </div>
                              <!-- Acordeão: Verbas Variáveis -->
                              <details class="space-y-2">
                                  <summary class="flex items-center text-lg font-semibold cursor-pointer text-primary hover:text-primary/80 transition-colors">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-200 ease-in-out"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                      Proventos Adicionais (Horas Extras, Insalubridade...)
                                  </summary>
                                  <div class="pt-4 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 border-t">
                                      <div class="space-y-2">
                                          <label for="media-horas-extras-decimo-terceiro" class="label">Média Mensal de Horas Extras</label>
                                          <input type="text" id="media-horas-extras-decimo-terceiro" name="media-horas-extras-decimo-terceiro"  data-state="decimoTerceiro.mediaHorasExtras" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 250.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="media-adicional-noturno-decimo-terceiro" class="label">Média Mensal de Adicional Noturno</label>
                                          <input type="text" id="media-adicional-noturno-decimo-terceiro" name="media-adicional-noturno-decimo-terceiro"  data-state="decimoTerceiro.mediaAdicionalNoturno" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 150.00">
                                      </div>
                                      <div class="flex items-center space-x-2 md:col-span-2">
                                          <input type="checkbox" id="periculosidade-decimo-terceiro" name="periculosidade-decimo-terceiro" data-state="decimoTerceiro.periculosidade" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                          <label for="periculosidade-decimo-terceiro" class="label">Recebe Adicional de Periculosidade (fixo)?</label>
                                      </div>
                                      <fieldset class="space-y-2 md:col-span-2">
                                          <legend class="label">Adicional de Insalubridade (fixo)</legend>
                                          <div id="insalubridade-grau-decimo-terceiro-group" role="radiogroup" class="flex items-center space-x-1 rounded-md bg-muted p-1">
                                              <label for="insalubridade-grau-decimo-terceiro-0" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="active">Não se aplica</label>
                                              <input type="radio" id="insalubridade-grau-decimo-terceiro-0" name="insalubridade-grau-decimo-terceiro" data-state="decimoTerceiro.insalubridadeGrau"  checked class="sr-only">

                                              <label for="insalubridade-grau-decimo-terceiro-10" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Mínimo (10%)</label>
                                              <input type="radio" id="insalubridade-grau-decimo-terceiro-10" name="insalubridade-grau-decimo-terceiro" data-state="decimoTerceiro.insalubridadeGrau" value="10" class="sr-only">

                                              <label for="insalubridade-grau-decimo-terceiro-20" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Médio (20%)</label>
                                              <input type="radio" id="insalubridade-grau-decimo-terceiro-20" name="insalubridade-grau-decimo-terceiro" data-state="decimoTerceiro.insalubridadeGrau" value="20" class="sr-only">

                                              <label for="insalubridade-grau-decimo-terceiro-40" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Máximo (40%)</label>
                                              <input type="radio" id="insalubridade-grau-decimo-terceiro-40" name="insalubridade-grau-decimo-terceiro" data-state="decimoTerceiro.insalubridadeGrau" value="40" class="sr-only">
                                          </div>
                                      </fieldset>
                                      <fieldset class="space-y-2">
                                          <legend class="label">Base de Cálculo da Insalubridade</legend>
                                          <div class="flex items-center space-x-4">
                                              <input type="radio" id="base-salario-minimo-decimo-terceiro" name="insalubridade-base-decimo-terceiro" data-state="decimoTerceiro.insalubridadeBase" value="salario_minimo" checked class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-minimo-decimo-terceiro" class="label">Salário Mínimo</label>
                                              <input type="radio" id="base-salario-bruto-decimo-terceiro" name="insalubridade-base-decimo-terceiro" data-state="decimoTerceiro.insalubridadeBase" value="salario_bruto" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-bruto-decimo-terceiro" class="label">Salário Base</label>
                                          </div>
                                      </fieldset>
                                  </div>
                              </details>
                          </div>
                      </form>
                      <div id="decimo-terceiro-results" class="mt-10"></div>
                  </div>

                  <!-- Salário Líquido Calculator -->
                  <div id="calculator-salario-liquido" value="salario-liquido" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-salario-liquido">
                          <div class="space-y-8">
                              <!-- Grupo: Remuneração Base -->
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de Salário Líquido</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-bruto-salario-liquido" class="label">Salário Bruto Mensal</label>
                                          <input type="text" id="salario-bruto-salario-liquido" name="salario-bruto-salario-liquido" data-state="salarioLiquido.salarioBruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2500.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="horas-extras-salario-liquido" class="label">Outros Proventos (ex: Horas Extras)</label>
                                          <input type="text" id="horas-extras-salario-liquido" name="horas-extras-salario-liquido"  data-state="salarioLiquido.horasExtras" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 250.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="dependentes-salario-liquido" class="label">Dependentes (para IRRF)</label>
                                          <input type="number" id="dependentes-salario-liquido" name="dependentes-salario-liquido"  min="0" data-state="salarioLiquido.dependentes" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                  </div>
                              </div>

                              <!-- Acordeão: Proventos Adicionais -->
                              <details class="space-y-2">
                                  <summary class="flex items-center text-lg font-semibold cursor-pointer text-primary hover:text-primary/80 transition-colors">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-200 ease-in-out"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                      Proventos Adicionais (Periculosidade, Insalubridade...)
                                  </summary>
                                  <div class="pt-4 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 border-t">
                                      <div class="flex items-center space-x-2 md:col-span-2">
                                          <input type="checkbox" id="periculosidade-salario-liquido" name="periculosidade-salario-liquido" data-state="salarioLiquido.periculosidade" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                          <label for="periculosidade-salario-liquido" class="label">Adicional de Periculosidade (30%)</label>
                                          <span class="help-icon" data-topic="periculosidade" data-tooltip="O que é Adicional de Periculosidade?">(?)</span>
                                      </div>
                                      <fieldset class="space-y-2 md:col-span-2">
                                          <legend class="text-sm font-medium flex items-center space-x-2">
                                              <span>Adicional de Insalubridade</span>
                                              <span class="help-icon" data-topic="insalubridade" data-tooltip="O que é Adicional de Insalubridade?">(?)</span>
                                          </legend>
                                          <div id="insalubridade-grau-salario-liquido-group" role="radiogroup" class="flex items-center space-x-1 rounded-md bg-muted p-1">
                                              <label for="insalubridade-grau-salario-liquido-0" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="active">Não se aplica</label>
                                              <input type="radio" id="insalubridade-grau-salario-liquido-0" name="insalubridade-grau-salario-liquido" data-state="salarioLiquido.insalubridadeGrau"  checked class="sr-only">

                                              <label for="insalubridade-grau-salario-liquido-10" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Mínimo (10%)</label>
                                              <input type="radio" id="insalubridade-grau-salario-liquido-10" name="insalubridade-grau-salario-liquido" data-state="salarioLiquido.insalubridadeGrau" value="10" class="sr-only">

                                              <label for="insalubridade-grau-salario-liquido-20" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Médio (20%)</label>
                                              <input type="radio" id="insalubridade-grau-salario-liquido-20" name="insalubridade-grau-salario-liquido" data-state="salarioLiquido.insalubridadeGrau" value="20" class="sr-only">

                                              <label for="insalubridade-grau-salario-liquido-40" class="flex-1 text-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium cursor-pointer transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-state="inactive">Máximo (40%)</label>
                                              <input type="radio" id="insalubridade-grau-salario-liquido-40" name="insalubridade-grau-salario-liquido" data-state="salarioLiquido.insalubridadeGrau" value="40" class="sr-only">
                                          </div>
                                      </fieldset>
                                      <fieldset class="space-y-2">
                                          <legend class="label">Base de Cálculo da Insalubridade</legend>
                                          <div class="flex items-center space-x-4">
                                              <input type="radio" id="base-salario-minimo-salario-liquido" name="insalubridade-base-salario-liquido" data-state="salarioLiquido.insalubridadeBase" value="salario_minimo" checked class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-minimo-salario-liquido" class="label">Salário Mínimo</label>
                                              <input type="radio" id="base-salario-bruto-salario-liquido" name="insalubridade-base-salario-liquido" data-state="salarioLiquido.insalubridadeBase" value="salario_bruto" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="base-salario-bruto-salario-liquido" class="label">Salário Base</label>
                                          </div>
                                      </fieldset>
                                      <div class="space-y-2">
                                          <label for="horas-noturnas-salario-liquido" class="text-sm font-medium flex items-center space-x-2">
                                              <span>Horas Noturnas no Mês</span>
                                              <span class="help-icon" data-topic="adicional_noturno" data-tooltip="O que é Adicional Noturno?">(?)</span>
                                          </label>
                                          <input type="number" id="horas-noturnas-salario-liquido" name="horas-noturnas-salario-liquido"  data-state="salarioLiquido.horasNoturnas" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 40">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="carga-horaria-mensal-salario-liquido" class="label">Carga Horária Mensal</label>
                                          <input type="number" id="carga-horaria-mensal-salario-liquido" name="carga-horaria-mensal-salario-liquido" value="220" data-state="salarioLiquido.cargaHorariaMensal" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 220">
                                      </div>
                                  </div>
                              </details>

                              <!-- Acordeão: Outros Descontos -->
                              <details class="space-y-2">
                                  <summary class="flex items-center text-lg font-semibold cursor-pointer text-primary hover:text-primary/80 transition-colors">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-200 ease-in-out"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                      Outros Descontos
                                  </summary>
                                  <div class="pt-4 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 border-t">
                                      <div class="space-y-2">
                                          <label for="desconto-vt-salario-liquido" class="text-sm font-medium flex items-center space-x-2">
                                              <span>Desconto de Vale-Transporte</span>
                                              <span class="help-icon" data-topic="desconto_vt" data-tooltip="Como funciona o desconto de VT?">(?)</span>
                                          </label>
                                          <input type="text" id="desconto-vt-salario-liquido" name="desconto-vt-salario-liquido"  data-state="salarioLiquido.descontoVt" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 300.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="desconto-vr-salario-liquido" class="label">Desconto Vale-Refeição/Alimentação</label>
                                          <input type="text" id="desconto-vr-salario-liquido" name="desconto-vr-salario-liquido"  data-state="salarioLiquido.descontoVr" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 50.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="desconto-saude-salario-liquido" class="label">Desconto Plano de Saúde / Odontológico</label>
                                          <input type="text" id="desconto-saude-salario-liquido" name="desconto-saude-salario-liquido"  data-state="salarioLiquido.descontoSaude" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 100.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="desconto-adiantamentos-salario-liquido" class="label">Adiantamentos (Vale)</label>
                                          <input type="text" id="desconto-adiantamentos-salario-liquido" name="desconto-adiantamentos-salario-liquido"  data-state="salarioLiquido.descontoAdiantamentos" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 400.00">
                                      </div>
                                  </div>
                              </details>

                              <!-- Acordeão: Benefícios -->
                              <details class="space-y-2" open>
                                  <summary class="flex items-center text-lg font-semibold cursor-pointer text-primary hover:text-primary/80 transition-colors">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-200 ease-in-out"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                      Benefícios (Salário Família)
                                  </summary>
                                  <div class="pt-4 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 border-t">
                                      <div class="space-y-4 md:col-span-2">
                                          <div class="flex items-center space-x-2">
                                              <input type="checkbox" id="recebe-salario-familia-salario-liquido" name="recebe-salario-familia" data-state="salarioLiquido.recebeSalarioFamilia" class="h-4 w-4 border-input text-primary focus:ring-primary">
                                              <label for="recebe-salario-familia-salario-liquido" class="label">Recebe Salário Família?</label>
                                          </div>
                                          <div id="filhos-salario-familia-container-salario-liquido" class="space-y-2 hidden pl-6">
                                              <label for="filhos-salario-familia-salario-liquido" class="label">Nº de filhos elegíveis (até 14 anos ou inválidos)</label>
                                              <input type="number" id="filhos-salario-familia-salario-liquido" name="filhos-salario-familia"  min="0" data-state="salarioLiquido.filhosSalarioFamilia" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                          </div>
                                      </div>
                                  </div>
                              </details>
                          </div>
                      </form>

                      <!-- Salary Simulator -->
                      <div id="salary-simulator" class="mt-10 pt-6 border-t">
                          <h3 class="text-lg font-semibold text-foreground mb-4">Simulador de Salário Líquido</h3>
                          <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 items-end">
                              <div class="space-y-2">
                                  <label for="simular-salario-bruto" class="label">Se o salário bruto fosse...</label>
                                  <input type="text" id="simular-salario-bruto" name="simular-salario-bruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Digite um valor bruto">
                              </div>
                              <div class="space-y-2">
                                  <p class="label">O salário líquido seria:</p>
                                  <p id="simular-salario-liquido-resultado" class="text-2xl font-bold text-primary h-10 flex items-center">R$ 0,00</p>
                              </div>
                          </div>
                      </div>

                      <div id="salario-liquido-results" class="mt-10"></div>
                  </div>

                  <!-- FGTS Calculator -->
                  <div id="calculator-fgts" value="fgts" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-fgts">
                          <div class="space-y-8">
                              <!-- Grupo: Simulador de Depósito Mensal -->
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de FGTS</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-bruto-fgts" class="label">Salário Bruto Mensal</label>
                                          <input type="text" id="salario-bruto-fgts" name="salario-bruto-fgts" data-state="fgts.salarioBruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2500.00">
                                      </div>
                                  </div>
                              </div>

                              <!-- Grupo: Simulador de Saque do FGTS -->
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Simulador de Saque do FGTS</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="saldo-total-fgts" class="label">Saldo Total do FGTS</label>
                                          <input type="text" id="saldo-total-fgts" name="saldo-total-fgts" data-state="fgts.saldoTotal" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 8000.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="opcao-saque-fgts" class="label">Opção de Saque</label>
                                          <select id="opcao-saque-fgts" name="opcao-saque-fgts" data-state="fgts.opcaoSaque" class="flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm appearance-none">
                                              <option value="rescisao">Saque-Rescisão (Demissão sem Justa Causa)</option>
                                              <option value="aniversario">Saque-Aniversário</option>
                                          </select>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="fgts-results" class="mt-10"></div>
                  </div>

                  <!-- PIS/PASEP Calculator -->
                  <div id="calculator-pis-pasep" value="pis-pasep" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-pis-pasep">
                          <div class="space-y-8">
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de PIS/PASEP</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-medio-pis" class="label">Salário Médio Mensal no Ano-Base</label>
                                          <input type="text" id="salario-medio-pis" name="salario-medio-pis" data-state="pisPasep.salarioMedio" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 1800.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="meses-trabalhados-pis" class="label">Meses Trabalhados no Ano-Base</label>
                                          <input type="number" id="meses-trabalhados-pis" name="meses-trabalhados-pis" data-state="pisPasep.mesesTrabalhados" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 12" min="0" max="12">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="data-inscricao-pis" class="label">Data de Inscrição no PIS/PASEP</label>
                                          <input type="date" id="data-inscricao-pis" name="data-inscricao-pis" data-state="pisPasep.dataInscricao" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm">
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="pis-pasep-results" class="mt-10"></div>
                  </div>

                  <!-- Seguro-Desemprego Calculator -->
                  <div id="calculator-seguro-desemprego" value="seguro-desemprego" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-seguro-desemprego">
                          <div class="space-y-8">
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de Seguro-Desemprego</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="sd-salario-1" class="label">Último Salário</label>
                                          <input type="text" id="sd-salario-1" name="sd-salario-1" data-state="seguroDesemprego.salario1" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2600.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="sd-salario-2" class="label">Penúltimo Salário</label>
                                          <input type="text" id="sd-salario-2" name="sd-salario-2" data-state="seguroDesemprego.salario2" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2500.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="sd-salario-3" class="label">Antepenúltimo Salário</label>
                                          <input type="text" id="sd-salario-3" name="sd-salario-3" data-state="seguroDesemprego.salario3" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2400.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="sd-meses-trabalhados" class="label">Meses Trabalhados (últimos 36 meses)</label>
                                          <input type="number" id="sd-meses-trabalhados" name="sd-meses-trabalhados" data-state="seguroDesemprego.mesesTrabalhados" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 24">
                                      </div>
                                      <div class="space-y-2 md:col-span-2">
                                          <label for="sd-solicitacoes-anteriores" class="label">É a primeira vez que solicita o Seguro-Desemprego?</label>
                                          <select id="sd-solicitacoes-anteriores" name="sd-solicitacoes-anteriores" data-state="seguroDesemprego.numSolicitacoes" class="flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm appearance-none">
                                              <option value="0">Sim, é a primeira vez</option>
                                              <option value="1">Não, é a segunda vez</option>
                                              <option value="2">Não, é a terceira vez ou mais</option>
                                          </select>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="seguro-desemprego-results" class="mt-10"></div>
                  </div>

                  <!-- Horas Extras Calculator -->
                  <div id="calculator-horas-extras" value="horas-extras" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-horas-extras">
                          <div class="space-y-8">
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de Horas Extras</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-base-he" class="label">Salário Base</label>
                                          <input type="text" id="salario-base-he" name="salario-base-he" data-state="horasExtras.salarioBase" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2200.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="horas-contratuais-he" class="label">Horas Contratuais Mensais</label>
                                          <input type="number" id="horas-contratuais-he" name="horas-contratuais-he" data-state="horasExtras.horasContratuais" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" value="220" placeholder="Ex: 220">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="horas-extras-50" class="label">Nº de Horas Extras 50%</label>
                                          <input type="number" id="horas-extras-50" name="horas-extras-50" data-state="horasExtras.horasExtras50" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 10">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="horas-extras-100" class="label">Nº de Horas Extras 100%</label>
                                          <input type="number" id="horas-extras-100" name="horas-extras-100" data-state="horasExtras.horasExtras100" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 4">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="horas-noturnas" class="label">Nº de Horas Noturnas</label>
                                          <input type="number" id="horas-noturnas" name="horas-noturnas" data-state="horasExtras.horasNoturnas" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 20">
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="horas-extras-results" class="mt-10"></div>
                  </div>

                  <!-- INSS Calculator -->
                  <div id="calculator-inss" value="inss" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-inss">
                          <div class="space-y-8">
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de INSS</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-bruto-inss" class="label">Salário Bruto</label>
                                          <input type="text" id="salario-bruto-inss" name="salario-bruto-inss" data-state="inss.salarioBruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 3000.00">
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="inss-results" class="mt-10"></div>
                  </div>

                  <!-- Vale-Transporte Calculator -->
                  <div id="calculator-vale-transporte" value="vale-transporte" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-vale-transporte">
                          <div class="space-y-8">
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de Vale-Transporte</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="salario-bruto-vt" class="label">Salário Bruto</label>
                                          <input type="text" id="salario-bruto-vt" name="salario-bruto-vt" data-state="valeTransporte.salarioBruto" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2200.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="custo-diario-vt" class="label">Custo Diário com Transporte (ida e volta)</label>
                                          <input type="text" id="custo-diario-vt" name="custo-diario-vt" data-state="valeTransporte.custoDiario" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 9.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="dias-trabalho-vt" class="label">Dias de Trabalho no Mês</label>
                                          <input type="number" id="dias-trabalho-vt" name="dias-trabalho-vt" data-state="valeTransporte.diasTrabalho" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 22">
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="vale-transporte-results" class="mt-10"></div>
                  </div>

                  <!-- IRPF Calculator -->
                  <div id="calculator-irpf" value="irpf" role="tabpanel" data-state="inactive" class="hidden mt-4">
                      <form id="form-irpf">
                          <div class="space-y-8">
                              <div class="space-y-4">
                                  <h3 class="text-lg font-semibold border-b pb-2 text-foreground">Calculadora de IRPF (Ajuste Anual)</h3>
                                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2">
                                      <div class="space-y-2">
                                          <label for="renda-anual-irpf" class="label">Renda Tributável Anual</label>
                                          <input type="text" id="renda-anual-irpf" name="renda-anual-irpf" data-state="irpf.rendaAnual" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 45000.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="dependentes-irpf" class="label">Número de Dependentes</label>
                                          <input type="number" id="dependentes-irpf" name="dependentes-irpf" data-state="irpf.dependentes" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2" >
                                      </div>
                                      <div class="space-y-2">
                                          <label for="deducoes-irpf" class="label">Outras Deduções (Educação, Saúde, etc)</label>
                                          <input type="text" id="deducoes-irpf" name="deducoes-irpf" data-state="irpf.outrasDeducoes" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 5000.00">
                                      </div>
                                      <div class="space-y-2">
                                          <label for="imposto-retido-irpf" class="label">Imposto Retido na Fonte (anual)</label>
                                          <input type="text" id="imposto-retido-irpf" name="imposto-retido-irpf" data-state="irpf.impostoRetido" class="money-mask flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" placeholder="Ex: 2000.00">
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                      <div id="irpf-results" class="mt-10"></div>
                  </div>
              </div>
              <!-- End of Calculator UI -->

                </div>
            </main>
        </div>
    </div>

            <!-- Modal for Calculation Memory -->
            <div id="calculation-memory-modal" class="fixed inset-0 hidden flex items-center justify-center p-4" style="z-index: 9999;" data-state="closed">
                <div id="calculation-memory-modal-overlay" class="absolute inset-0" style="background-color: rgba(0, 0, 0, 0.8); z-index: 9998;"></div>
                <div role="dialog" id="calculation-memory-modal-content" class="relative w-full max-w-2xl bg-white text-gray-900 p-6 shadow-lg rounded-lg border border-gray-300" style="z-index: 10000;">
                    <div class="flex flex-col space-y-1.5 text-center sm:text-left">
                        <h2 id="calculation-memory-modal-title" class="text-2xl font-semibold leading-none tracking-tight text-gray-900">Memória de Cálculo</h2>
                        <div id="calculation-memory-modal-body" class="text-sm text-gray-700 space-y-4 max-h-[60vh] overflow-y-auto p-1">
                            <!-- Content will be injected by JS -->
                        </div>
                    </div>
                    <div class="flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-4">
                        <button id="calculation-memory-modal-close-btn" type="button" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white hover:bg-gray-100 text-gray-900 h-10 px-4 py-2">
                            Fechar
                        </button>
                        <button id="calculation-memory-modal-print-btn" type="button" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2" style="color: var(--white) !important;">
                            Gerar PDF
                        </button>
                    </div>
                </div>
            </div>

            <!-- Modal for Knowledge Base (FAQ) with Slide Animations -->
            <div id="knowledge-base-modal" class="fixed inset-0 hidden flex items-center justify-center p-4" style="z-index: 9999;" data-state="closed">
                <div id="knowledge-base-modal-overlay" class="absolute inset-0" style="background-color: rgba(0, 0, 0, 0.8); z-index: 9998;"></div>
                <div role="dialog" class="relative w-full max-w-4xl bg-white text-gray-900 shadow-lg rounded-lg border border-gray-300" style="z-index: 10000;">
                    <!-- Modal Header -->
                    <div class="flex items-center justify-between p-6 border-b border-gray-200">
                        <h2 class="text-2xl font-semibold leading-none tracking-tight text-gray-900">Base de Conhecimento</h2>
                        <button id="close-kb-modal-btn" type="button" class="rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none">
                            <span class="material-icons">close</span>
                            <span class="sr-only">Fechar</span>
                        </button>
                    </div>
                    
                    <!-- Modal Content with Slide Container -->
                    <div class="modal-content p-6">
                        <div class="kb-views-container relative min-h-[400px]">
                            <!-- Initial view will be rendered by JavaScript -->
                            <div class="kb-view active">
                                <div class="flex items-center justify-center min-h-[300px]">
                                    <div class="text-center">
                                        <span class="material-icons text-6xl text-gray-300 mb-4">library_books</span>
                                        <p class="text-gray-500">Carregando base de conhecimento...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="text-center py-6 mt-8 sm:mt-12 text-sm text-muted-foreground">
        <div class="flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 mb-4">
            <div class="flex items-center space-x-2">
                <input type="checkbox" id="save-data-checkbox" name="save-data" class="sr-only peer">
                <label for="save-data-checkbox" class="label flex items-center space-x-2 cursor-pointer group">
                    <span class="flex items-center justify-center h-4 w-4 shrink-0 rounded-sm border border-primary text-primary-foreground ring-offset-background group-hover:bg-accent/50 peer-focus-visible:ring-2 peer-focus-visible:ring-ring peer-focus-visible:ring-offset-2 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 peer-checked:bg-primary">
                        <span class="material-icons text-xs hidden peer-checked:block">check</span>
                    </span>
                    <span class="peer-disabled:opacity-70">Lembrar meus dados</span>
                </label>
            </div>
            <span class="text-xs text-gray-500">
                💡 Seus dados são salvos localmente para sua conveniência
            </span>
            <button id="customize-calculators-btn" class="text-primary hover:underline">Personalizar Calculadoras</button>
        </div>
        <p>&copy; 2025 Calculadora Trabalhista. Uma ferramenta para o trabalhador.</p>
        <p class="mt-4 max-w-2xl mx-auto text-xs text-gray-500">
            Aviso Legal: Esta calculadora é uma ferramenta de simulação e seus resultados são apenas estimativas. Os cálculos não substituem o aconselhamento jurídico ou contábil profissional e não possuem validade legal. Sempre consulte um especialista para obter informações precisas e adequadas à sua situação.
        </p>
    </footer>

    <!-- Educational Panel Overlay -->
    <div id="educational-panel-overlay" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-40 hidden transition-opacity duration-300" aria-hidden="true"></div>

    <!-- Educational Panel -->
    <aside id="educational-panel" 
           class="fixed top-0 right-0 h-full w-full sm:w-[32rem] lg:w-[40rem] xl:w-[48rem] bg-white shadow-xl z-50 transform translate-x-full transition-transform duration-300 ease-in-out"
           role="dialog" 
           aria-labelledby="educational-panel-title" 
           aria-hidden="true">
        
        <!-- Panel Header -->
        <div class="flex items-center justify-between p-6 border-b bg-primary text-primary-foreground">
            <h2 id="educational-panel-title" class="text-xl font-semibold">
                Informe-se
            </h2>
            <button id="educational-panel-close-btn" 
                    class="flex items-center justify-center w-8 h-8 rounded-md hover:bg-primary-foreground hover:text-primary transition-colors"
                    aria-label="Fechar painel educacional">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" x2="6" y1="6" y2="18"/>
                    <line x1="6" x2="18" y1="6" y2="18"/>
                </svg>
            </button>
        </div>

        <!-- Panel Content -->
        <div class="flex flex-col h-full">
            <!-- Categories Navigation -->
            <nav class="p-6 border-b bg-muted">
                <div class="relative">
                    <label for="topic-selector" class="block text-sm font-medium text-gray-700 mb-2">
                        Selecione um Tópico Educacional
                    </label>
                    <div class="relative">
                        <button id="topic-selector-trigger" type="button" aria-haspopup="true" aria-expanded="false" 
                                class="flex items-center justify-between w-full px-4 py-3 text-left bg-background border border-border rounded-md shadow-sm hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200">
                            <span id="topic-selector-current-selection" class="font-medium">Escolha um tópico...</span>
                            <svg class="w-5 h-5 text-muted-foreground transition-transform duration-200" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <div id="topic-selector-panel" class="absolute z-50 hidden mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg opacity-0 transform scale-95 transition-all duration-200 ease-out">
                            <div class="py-1 max-h-80 overflow-y-auto" role="menu" aria-orientation="vertical" aria-labelledby="topic-selector-trigger">
                                <!-- Calculadoras Básicas Group -->
                                <div class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200 bg-gray-50">
                                    Calculadoras Básicas
                                </div>
                                <button data-value="ferias" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Férias
                                </button>
                                <button data-value="decimo-terceiro" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    13º Salário
                                </button>
                                <button data-value="rescisao" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Rescisão
                                </button>
                                
                                <!-- Descontos e Adicionais Group -->
                                <div class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200 bg-gray-50 mt-2">
                                    Descontos e Adicionais
                                </div>
                                <button data-value="descontos" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Descontos
                                </button>
                                <button data-value="adicionais" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Adicionais
                                </button>
                                <button data-value="beneficios" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Benefícios
                                </button>
                                
                                <!-- Novas Calculadoras Group -->
                                <div class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200 bg-gray-50 mt-2">
                                    Novas Calculadoras
                                </div>
                                <button data-value="fgts" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    FGTS
                                </button>
                                <button data-value="pisPasep" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    PIS/PASEP
                                </button>
                                <button data-value="seguroDesemprego" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Seguro-Desemprego
                                </button>
                                <button data-value="horasExtras" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Horas Extras
                                </button>
                                <button data-value="inss" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    INSS
                                </button>
                                <button data-value="valeTransporte" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    Vale-Transporte
                                </button>
                                <button data-value="irrf" class="topic-selector-option block w-full px-4 py-2 text-left text-sm font-medium text-gray-900 hover:bg-blue-50 hover:text-blue-700 focus:outline-none focus:bg-blue-50 focus:text-blue-700 transition-colors cursor-pointer bg-white">
                                    IRPF
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Content Area -->
            <div class="flex-1 overflow-y-auto">
                <div id="educational-content" class="p-6 lg:p-8">
                    <!-- Welcome message -->
                    <div id="educational-welcome" class="text-center py-8">
                        <!-- Título Principal -->
                        <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-2">
                            Informe-se
                        </h3>
                        <p class="text-sm text-gray-600 mb-6 px-4">
                            Glossário de acesso rápido com informações essenciais sobre direitos trabalhistas.
                        </p>
                        
                        <!-- Ícones ilustrativos -->
                        <div class="mb-4 flex justify-center items-center space-x-4">
                            <!-- Ícone de livro (educacional) -->
                            <div class="p-3 bg-blue-50 rounded-full">
                                <span class="material-icons text-2xl text-info">menu_book</span>
                            </div>
                            <!-- Ícone jurídico -->
                            <div class="p-3 bg-muted rounded-full">
                                <span class="material-icons text-2xl text-gray-600">gavel</span>
                            </div>
                        </div>
                        
                        <p class="text-gray-500 text-xs">Selecione um tópico acima para consultar informações específicas.</p>
                    </div>
                </div>
            </div>
        </div>
    </aside>

    <script type="module" src="assets/js/app/main.js" defer></script>

    <!-- Customization Modal -->
    <div id="customize-modal" class="fixed inset-0 hidden flex items-center justify-center p-4" style="z-index: 9999;">
        <div id="customize-modal-overlay" class="absolute inset-0 bg-black bg-opacity-60 backdrop-blur-sm"></div>
        <div role="dialog" id="customize-modal-content" class="relative w-full max-w-md bg-white text-gray-900 p-6 shadow-lg rounded-lg">
            <h2 class="text-xl font-semibold mb-4">Personalizar Calculadoras Visíveis</h2>
            <div id="customize-checklist" class="space-y-3 max-h-60 overflow-y-auto pr-2">
                <!-- Checkboxes will be populated by JS -->
            </div>
            <div class="flex justify-end space-x-3 mt-6">
                <button id="customize-modal-cancel-btn" type="button" class="px-4 py-2 rounded-md border hover:bg-gray-100">Cancelar</button>
                <button id="customize-modal-save-btn" type="button" class="px-4 py-2 rounded-md bg-primary text-white hover:bg-primary/90">Salvar e Fechar</button>
            </div>
        </div>
    </div>
</body>
</html>
