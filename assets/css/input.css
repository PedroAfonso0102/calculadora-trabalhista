@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* ========================================================================
     Component: Button
     - .btn: Estilo base estrutural.
     - .btn-variant: Estilos visuais (primary, secondary, etc.).
     - .btn-size: Ajustes de dimensão (sm, lg).
     ======================================================================== */

  /* --- Base Style --- */
  .btn {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
    @apply h-10 px-4 py-2; /* Default size (md) */
  }

  /* --- Visual Variants --- */
  .btn-primary { @apply bg-primary text-primary-foreground hover:bg-primary/90; }
  .btn-secondary { @apply bg-secondary text-secondary-foreground hover:bg-secondary/80; }
  .btn-destructive { @apply bg-destructive text-destructive-foreground hover:bg-destructive/90; }
  .btn-outline { @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground; }
  .btn-ghost { @apply hover:bg-accent hover:text-accent-foreground; }
  .btn-link { @apply text-primary underline-offset-4 hover:underline; }

  /* --- Size Variants --- */
  .btn-sm { @apply h-9 rounded-md px-3; }
  .btn-lg { @apply h-11 rounded-md px-8; }
  .btn-icon { @apply h-10 w-10; }

  /* ========================================================================
     Component: Alert
     ======================================================================== */
  .alert { @apply relative w-full rounded-lg border-l-4 p-4 flex items-start space-x-4; }
  .alert-icon { @apply mt-1; }
  .alert-title { @apply mb-1 font-bold; }
  .alert-description { @apply text-sm; }

  /* --- Variants --- */
  .alert-info {
    @apply bg-info/10 border-info text-info-foreground;
    @apply [&>.alert-icon]:text-info [&>.alert-content>.alert-title]:text-info;
  }
  .alert-success {
    @apply bg-success/10 border-success text-success-foreground;
    @apply [&>.alert-icon]:text-success [&>.alert-content>.alert-title]:text-success;
  }
  .alert-warning {
    @apply bg-warning/10 border-warning text-warning-foreground;
    @apply [&>.alert-icon]:text-warning [&>.alert-content>.alert-title]:text-warning;
  }
  .alert-error {
    @apply bg-destructive/10 border-destructive text-destructive-foreground;
    @apply [&>.alert-icon]:text-destructive [&>.alert-content>.alert-title]:text-destructive;
  }

  /* ========================================================================
     Component: Input, Select & Textarea
     ======================================================================== */
  .input {
    @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }
  /* --- Validation Variants --- */
  .input-error { @apply border-destructive text-destructive placeholder:text-destructive/70 focus-visible:ring-destructive; }
  .input-success { @apply border-success focus-visible:ring-success; }

  /* ========================================================================
     Component: Label
     ======================================================================== */
  .label { @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70; }

  /* ========================================================================
     Component: Checkbox & Radio Button
     ======================================================================== */
  .checkbox, .radio-button {
    @apply h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }
  .radio-button { @apply rounded-full; }

  .checkbox[data-state='checked'], .radio-button[data-state='checked'] {
    @apply bg-primary text-primary-foreground;
  }

  /* Indicador (ícone) dentro do checkbox/radio */
  .checkbox-indicator, .radio-button-indicator {
    @apply flex items-center justify-center text-current h-full w-full;
    /* O ícone SVG ou outro elemento deve ser inserido via HTML/JS */
  }

  /* ========================================================================
     Component: Switch
     ======================================================================== */
  .switch {
    @apply inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
    @apply bg-input; /* Cor do switch inativo */
  }
  .switch[data-state='checked'] { @apply bg-primary; }

  .switch-thumb {
    @apply pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform;
    @apply translate-x-0; /* Posição do thumb inativo */
  }
  .switch[data-state='checked'] > .switch-thumb { @apply translate-x-5; }
}
