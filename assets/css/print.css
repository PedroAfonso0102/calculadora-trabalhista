/* Import the Inter font specifically for printing */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@media print {
    /* General page setup for printing - optimized for single page */
    @page {
        size: A4;
        margin: 0.8cm; /* Even smaller margins for maximum content space */
    }

    body {
        font-family: 'Inter', sans-serif;
        color: #1a1a1a;
        background-color: #fff !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        font-size: 11px; /* Even smaller base font */
        line-height: 1.2; /* Tighter line spacing */
    }

    /* Show print header always - ultra compact version */
    .print-header {
        display: block !important;
        margin-bottom: 0.5rem; /* Minimal spacing */
        text-align: center;
        border-bottom: 1px solid #1a1a1a;
        padding-bottom: 0.25rem; /* Minimal padding */
    }

    .print-company-info h1 {
        font-size: 1rem; /* Even smaller title */
        font-weight: 700;
        margin-bottom: 0.125rem;
        color: #1a1a1a !important;
    }

    .print-company-info p {
        font-size: 0.7rem; /* Even smaller subtitle */
        color: #6b7280 !important;
        margin-bottom: 0.05rem;
    }

    /* Hide specific UI elements when printing */
    nav, header, footer, 
    [role="tablist"], [role="tab"],
    h2:first-child,
    form, .input-group, input, select, textarea, label, button {
        display: none !important;
    }

    /* Show the app container and print header */
    #app, .print-header {
        display: block !important;
    }

    /* Show all result containers and their children */
    #ferias-results, #rescisao-results, #decimo-terceiro-results, #salario-liquido-results {
        display: block !important;
    }

    /* Ensure result content containers are visible */
    #ferias-results > *, #rescisao-results > *, #decimo-terceiro-results > *, #salario-liquido-results > * {
        display: block !important;
    }

    /* Hide empty result containers */
    #ferias-results:empty, #rescisao-results:empty, #decimo-terceiro-results:empty, #salario-liquido-results:empty {
        display: none !important;
    }

    /* Show only the modal content when printing and modal is open */
    #calculation-memory-modal {
        display: block !important;
        position: static !important;
        z-index: auto !important;
        background: none !important;
        padding: 0 !important;
    }

    #calculation-memory-modal[data-state="open"] {
        display: block !important;
    }

    #calculation-memory-modal[data-state="closed"] {
        display: none !important;
    }

    #calculation-memory-modal-overlay {
        display: none !important;
    }

    #calculation-memory-modal-content {
        position: static !important;
        width: 100% !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        background: white !important;
    }

    #calculation-memory-modal-title {
        font-size: 1.5rem !important;
        margin-bottom: 1rem !important;
        color: #1a1a1a !important;
    }

    #calculation-memory-modal-body {
        color: #1a1a1a !important;
        max-height: none !important;
        overflow: visible !important;
    }

    /* Hide modal buttons when printing */
    #calculation-memory-modal-close-btn,
    #calculation-memory-modal-print-btn {
        display: none !important;
    }

    /* Style the results container to look like a clean report - ultra compact */
    .rounded-lg.border {
        border: 1px solid #e5e7eb !important;
        box-shadow: none !important;
        margin-top: 0 !important;
        padding: 0.5rem; /* Minimal padding */
        width: 100%;
        page-break-inside: avoid;
    }

    /* Show result sections and their children - compact spacing */
    .rounded-lg.border, .mt-6, .animate-fade-in {
        display: block !important;
        margin-top: 0.5rem !important; /* Reduced spacing */
    }

    /* Force all result content to be visible */
    .rounded-lg.border * {
        display: block !important;
    }

    /* Ensure specific result elements are visible - compact */
    .p-6, .pt-0, .space-y-1, .result-row, .py-2, 
    .flex.justify-between, .text-xl, .font-bold,
    h3, h4, p, span, div {
        display: block !important;
    }

    /* Compact spacing for result rows */
    .py-2 {
        padding-top: 0.25rem !important;
        padding-bottom: 0.25rem !important;
    }

    /* Details buttons styling - override the general button hiding */
    .details-btn {
        display: inline !important;
        background: none !important;
        border: none !important;
        color: #1a1a1a !important;
        text-decoration: underline !important;
        font-size: inherit !important;
        padding: 0 !important;
    }

    /* Show details when printing */
    .hidden {
        display: block !important;
        margin-top: 0.5rem !important;
    }

    /* Ensure result content is visible */
    .p-6, .pt-0, .space-y-1, .result-row, .py-2 {
        display: block !important;
    }

    /* Fix flex layouts for printing - keep flex but ensure content shows - compact */
    .flex.justify-between {
        display: flex !important;
        justify-content: space-between !important;
        padding: 0.25rem 0 !important; /* Reduced padding */
    }

    /* Ensure flex children are visible */
    .flex.justify-between > * {
        display: block !important;
    }

    /* --- Typography and Spacing - Compact for single page --- */

    /* Main result title (e.g., "Resultado do CÃ¡lculo") - smaller */
    h3.text-xl {
        font-size: 1.1rem !important; /* Reduced from 1.5rem */
        font-weight: 600;
        margin-bottom: 0.125rem;
        color: #1a1a1a !important;
    }

    /* Subtitle - smaller */
    p.text-sm {
        font-size: 0.75rem !important; /* Reduced from 0.875rem */
        color: #6b7280 !important;
        margin-bottom: 0.75rem; /* Reduced spacing */
    }

    /* Section headers (e.g., "Proventos", "Descontos") - compact */
    h4.text-lg {
        font-size: 0.95rem !important; /* Reduced from 1.125rem */
        font-weight: 600;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 0.25rem;
        margin-top: 0.5rem; /* Reduced spacing */
        margin-bottom: 0.5rem;
    }

    /* Result line items - compact */
    .flex.justify-between {
        display: flex;
        justify-content: space-between;
        padding: 0.25rem 0; /* Reduced from 0.5rem */
        border-bottom: 1px dotted #d1d5db;
    }
    .flex.justify-between:last-child {
        border-bottom: none;
    }

    /* Final total amount - less prominent but still visible */
    .text-xl.font-bold {
        font-size: 1.2rem !important; /* Reduced from 1.5rem */
        font-weight: 700;
        margin-top: 0.75rem; /* Reduced spacing */
        padding-top: 0.5rem;
        border-top: 2px solid #1a1a1a;
    }

    /* Total amount value - compact */
    .total-liquido-valor {
        font-size: 1.2rem !important; /* Reduced from 1.5rem */
        font-weight: 800;
    }

    /* Ensure colors are printed */
    .text-green-600 {
        color: #16a34a !important;
    }

    .text-red-600 {
        color: #dc2626 !important;
    }

    .text-gray-900 {
        color: #1a1a1a !important;
    }

    .text-gray-500 {
        color: #6b7280 !important;
    }

    /* Ensure link-like text is just black */
    .text-primary {
        color: #1a1a1a !important;
    }

    /* Force all text to be black for better printing */
    * {
        color: #1a1a1a !important;
    }

    /* Override specific colors that should remain */
    .text-green-600 * {
        color: #16a34a !important;
    }

    .text-red-600 * {
        color: #dc2626 !important;
    }

    /* Ensure all content within result containers is fully visible - compact */
    #ferias-results *, #rescisao-results *, #decimo-terceiro-results *, #salario-liquido-results * {
        display: inherit !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* Make sure result containers themselves are visible - compact */
    .rounded-lg, .border, .p-6, .shadow-md {
        display: block !important;
        visibility: visible !important;
    }

    /* Ensure text content is always visible - compact */
    h3, h4, p, span, div.text-xl, div.font-bold {
        display: block !important;
        visibility: visible !important;
    }

    /* Compact spacing for all elements */
    * {
        margin-top: 0 !important;
        margin-bottom: 0.25rem !important;
    }

    /* Override for important spacing elements */
    .border-t {
        margin-top: 0.5rem !important;
    }

    /* Reduce container padding */
    .p-6 {
        padding: 0.5rem !important;
    }

    /* Prevent orphaned content */
    .result-row {
        break-inside: avoid;
    }

    /* Ensure single page fit */
    #app {
        max-height: 90vh;
        overflow: visible;
    }
}
